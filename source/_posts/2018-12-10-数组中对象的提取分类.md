---
layout: post
title: 数据处理和分类
date: 2018-12-10
categories: JavaScript
tags:
  - JavaScript
  - 前端
  - ES6
---

数据处理和分类

最后修改日期 2019-04-23

<!-- more -->

## 数组分组

### 使用 `forEach` 遍历分组

```js
const list = [
  { label: 'a', value: 1 },
  { label: 'c', value: 3 },
  { label: 'b', value: 1 },
  { label: 'a', value: 3 },
  { label: 'c', value: 2 }
]
const collect = {}
list.forEach(item => {
  // console.log(item)
  if (!collect[item.label]) {
    collect[item.label] = []
  }
  collect[item.label].push(item)
})

// 处理后的数据
collect = {
  a: [1, 3],
  b: [1],
  c: [3, 2]
}

// 可以使用entries(),keys(),values()来获取所需要的值
```

### 使用 `30 seconds of code` 里 `reduce` 的方法

```js
const groupBy = (arr, fn) =>
  arr
    .map(typeof fn === 'function' ? fn : val => val[fn])
    .reduce((acc, val, i) => {
      acc[val] = (acc[val] || []).concat(arr[i])
      return acc
    }, {})
const collect = groupBy(list, item => item.label)
```
